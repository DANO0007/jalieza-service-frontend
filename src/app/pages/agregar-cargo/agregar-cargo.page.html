<app-navbar [title]="'Agregar Cargo'"></app-navbar>
<ion-content>
  <div class="grid-wrapper">
    <ion-grid class="grid-center">
      <ion-row class="ion-justify-content-center">
        <ion-col size-xs="12" size-sm="12" size-md="10" size-lg="10">
          <div class="contenedor-formulario">
            <ion-header>
              <ion-toolbar class="cabeza">
                <ion-title class="titulo-formulario">Agregar Cargo</ion-title>
              </ion-toolbar>
            </ion-header>

            <ion-grid class="grid-formulario">
<ion-item>
  <ion-label>Orden</ion-label>
  <ion-select [(ngModel)]="ordenSeleccionadoId" placeholder="Selecciona un orden" (ionChange)="onOrdenSeleccionado()">
    <ion-select-option *ngFor="let orden of ordenes" [value]="orden.id">
      {{ orden.order_name }}
    </ion-select-option>
  </ion-select>
</ion-item>


       <ion-item *ngIf="serviciosDelOrden.length > 0">
  <ion-label>Servicio</ion-label>
  <ion-select [(ngModel)]="service_id" placeholder="Selecciona un servicio">
    <ion-select-option *ngFor="let servicio of serviciosDelOrden" [value]="servicio.id">
      {{ servicio.service_name }}
    </ion-select-option>
  </ion-select>
</ion-item>

              <!-- Fecha Inicio -->
              <ion-row>
                <ion-col size="12" sizeMd="6">
                  <ion-item>
                    <ion-label position="stacked">Inicio</ion-label>
                    <ion-input type="date" [(ngModel)]="start_date" #fechaInicioInput>
                      <ion-icon slot="end" name="calendar" class="calendar-icon" (click)="abrirSelectorFecha(fechaInicioInput)"></ion-icon>
                    </ion-input>
                  </ion-item>
                </ion-col>

                <!-- Fecha Fin -->
                <ion-col size="12" sizeMd="6">
                  <ion-item>
                    <ion-label position="stacked">Fin</ion-label>
                    <ion-input type="date" [(ngModel)]="end_date" #fechaFinInput>
                      <ion-icon slot="end" name="calendar" class="calendar-icon" (click)="abrirSelectorFecha(fechaFinInput)"></ion-icon>
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>

              <!-- Estado de terminaciÃ³n -->
              <ion-row>
                <ion-col size="12">
                  <ion-item>
                    <ion-label>Estado</ion-label>
                    <ion-select [(ngModel)]="termination_status">
  <ion-select-option value="completado">Completado</ion-select-option>
  <ion-select-option value="en_curso">En curso</ion-select-option>
  <ion-select-option value="inconcluso">Inconcluso</ion-select-option>
</ion-select>

                  </ion-item>
                </ion-col>
              </ion-row>

              <!-- Observaciones -->
              <ion-row>
                <ion-col size="12">
                  <ion-item>
                    <ion-label position="stacked">Observaciones</ion-label>
                    <ion-input type="text" [(ngModel)]="observations"></ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-grid>

            <!-- Botones -->
            <div class="boton-contenedor">
              <ion-button class="boton-volver" (click)="volver()">Volver</ion-button>
              <ion-button class="boton-registrar" (click)="registrarCargo()" [disabled]="!service_id || !start_date || !end_date || !termination_status">Registrar</ion-button>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
<app-footer></app-footer>
